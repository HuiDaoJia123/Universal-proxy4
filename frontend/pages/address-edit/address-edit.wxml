<view class="container">
  <form bindsubmit="saveAddress">
    <view class="form-section">
      <view class="form-item">
        <text class="label required">收货人</text>
        <input 
          class="input" 
          name="recipient" 
          value="{{formData.recipient}}" 
          placeholder="请输入收货人姓名" 
          maxlength="20"
          bindinput="onRecipientInput"
        />
      </view>
      
      <view class="form-item">
        <text class="label required">手机号码</text>
        <input 
          class="input" 
          name="phone" 
          type="number" 
          value="{{formData.phone}}" 
          placeholder="请输入手机号码" 
          maxlength="11"
          bindinput="onPhoneInput"
        />
      </view>
      
      <view class="form-item">
        <text class="label required">所在地区</text>
        <picker 
          mode="region" 
          bindchange="onRegionChange" 
          value="{{region}}"
        >
          <view class="picker {{formData.province ? '' : 'placeholder'}}">
            {{formData.province && formData.city && formData.district ? formData.province + ' ' + formData.city + ' ' + formData.district : '请选择所在地区'}}
          </view>
        </picker>
        <icon class="arrow-icon" type="clear" size="16"></icon>
      </view>
      
      <view class="form-item">
        <text class="label required">详细地址</text>
        <textarea 
          class="textarea" 
          name="detail" 
          value="{{formData.detail}}" 
          placeholder="请输入详细地址（如街道、楼号、门牌号等）"
          maxlength="100"
          show-confirm-bar="{{false}}"
          bindinput="onDetailInput"
        ></textarea>
      </view>
      
      <view class="form-item no-border">
        <label class="checkbox-label">
          <checkbox 
            checked="{{formData.isDefault}}" 
            bindtap="toggleDefault" 
          />
          <text class="checkbox-text">设为默认地址</text>
        </label>
      </view>
    </view>
  </form>

  <view class="bottom-actions-row">
    <button class="btn-delete-bottom" wx:if="{{isEditing}}" bindtap="deleteAddress">删除地址</button>
    
    <button class="btn-save-bottom" form-type="submit" disabled="{{!isFormValid}}">
      {{isEditing ? '保存地址' : '添加地址'}}
    </button>
  </view>
</view>