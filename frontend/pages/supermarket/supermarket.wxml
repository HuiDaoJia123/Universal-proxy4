<!--pages/supermarket/supermarket.wxml-->
<view class="container">
  <!-- 顶部说明 -->
  <view class="header-section">
    <text class="title">超市代买</text>
    <text class="subtitle">请添加您需要购买的物品，骑手将为您代买</text>
  </view>

  <!-- 商品列表 -->
  <view class="goods-list">
    <block wx:for="{{goodsList}}" wx:key="id">
      <view class="goods-item">
        <view class="goods-info">
          <text class="goods-name">{{item.name}}</text>
          <text class="goods-price">¥{{item.price}}</text>
        </view>
        <view class="goods-operations">
          <button class="btn-minus" bindtap="decreaseGoods" data-id="{{item.id}}">-</button>
          <text class="goods-count">{{item.count}}</text>
          <button class="btn-plus" bindtap="increaseGoods" data-id="{{item.id}}">+</button>
        </view>
      </view>
    </block>
    
    <!-- 空状态 -->
    <view wx:if="{{goodsList.length === 0}}" class="empty-state">
      <image class="empty-image" src="/images/empty-goods.png"></image>
      <text class="empty-text">暂无商品，请添加您需要的商品</text>
    </view>
  </view>

  <!-- 添加商品 -->
  <view class="add-goods">
    <view class="input-group">
      <input class="input-goods-name" placeholder="商品名称" value="{{newGoodsName}}" bindinput="onGoodsNameInput" />
      <input class="input-goods-price" placeholder="价格" type="digit" value="{{newGoodsPrice}}" bindinput="onGoodsPriceInput" />
      <button class="btn-add-goods" bindtap="addGoods">添加</button>
    </view>
  </view>

  <!-- 备注信息 -->
  <view class="remark-section">
    <text class="remark-label">备注信息</text>
    <textarea class="remark-input" placeholder="请输入商品的具体要求（品牌、规格、数量等）" value="{{remark}}" bindinput="onRemarkInput" maxlength="200" />
    <text class="word-count">{{remark.length}}/200</text>
  </view>

  <!-- 骑手备注 -->
  <view class="rider-remark">
    <text class="rider-text">💡 小贴士：顺路帮别人取一件快递也能赚1.5元，无门槛注册骑手！</text>
    <button class="btn-rider" bindtap="goToRiderApply">立即成为骑手</button>
  </view>

  <!-- 底部结算 -->
  <view class="footer">
    <view class="total-section">
      <text class="total-label">总计：</text>
      <text class="total-price">¥{{totalPrice}}</text>
    </view>
    <button class="btn-submit" bindtap="submitOrder">提交订单</button>
  </view>
</view>
